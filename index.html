<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="/style.css" />
    <title>PWA workshop</title>
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      <p>Pages:</p>
      <ul>
        <li><a href="/pages/page1.html">Page 1</a></li>
        <li><a href="/pages/page2.html">Page 2</a></li>
        <li><a href="/pages/page3.html">Page 3</a></li>
        <li><a href="/pages/page4.html">Page 4</a></li>
        <li><a href="/pages/page5.html">Page 5</a></li>
      </ul>
    </nav>
    <h1>PWA workshop</h1>
    <article>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate
        atque voluptas assumenda commodi maiores nemo libero! Provident magnam
        reiciendis natus sit excepturi corrupti officiis beatae, sequi similique
        odit at consequatur.
      </p>
      <p>
        Eos rerum amet doloribus atque sint dolorum inventore recusandae
        laboriosam excepturi facere tempora, perferendis dolor voluptate neque
        molestiae id nobis numquam debitis, est nemo tempore nihil voluptatum
        omnis ab. Doloribus.
      </p>
    </article>
    <article>
      <p>
        Sed debitis ab autem ipsum deleniti eum quibusdam! Mollitia laborum nam,
        quos hic neque, doloribus autem rem commodi, tenetur quibusdam dolor
        exercitationem dicta aspernatur porro quas error enim illo alias?
      </p>
      <p>
        Sapiente voluptate illo esse reiciendis, distinctio ea architecto libero
        vel reprehenderit consectetur quo. At in eligendi, voluptatibus
        explicabo ut rerum. Nihil, ipsum pariatur sunt libero quasi tenetur.
        Vero, consectetur. Maiores!
      </p>
    </article>
    <article>
      <p>
        Nam vero quas debitis sunt saepe cupiditate id autem aperiam delectus,
        praesentium itaque inventore eveniet culpa ab. Assumenda error
        voluptatibus animi sequi tempore sed! Maxime illum at quisquam aliquam
        ad?
      </p>
      <p>
        Laudantium iste, quia atque aliquam error omnis voluptatibus delectus
        explicabo. Quo fugit atque doloribus dolorum vel quisquam aliquam hic
        alias rerum consectetur pariatur eius, obcaecati nobis modi aperiam!
        Exercitationem, cum.
      </p>
    </article>

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function() {
          navigator.serviceWorker.register("/sw.js").then(
            function(registration) {
              // Registration was successful
              console.log("ServiceWorker registration successful");
            },
            function(err) {
              // registration failed :(
              console.log("ServiceWorker registration failed: ", err);
            }
          );
          navigator.serviceWorker.addEventListener("message", function(event) {
            console.log("Event recieved:", event.data);
            switch (event.data.msg) {
              case "refresh":
                window.location.reload();
            }
          });
        });
      }
    </script>
  </body>
</html>
